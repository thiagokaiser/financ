{% extends 'app/base.html' %}

{% block content %}

<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        Despesas
        <small>Adiciona despesa</small>
    </h1>                    
</section>

<!-- Main content -->
<section class="content">
    <!-- Your Page Content Here -->                    
    <div class="box box-default">            
        <div class="box-body">             
            <form method="POST">
                <table class="table">  {% csrf_token %}
                    {{ form.as_table }}                    
                </table>     

                <div class="form-check">                    
                    <input type="checkbox" class="form-check-input" id="id_repetir">
                    <label for="id_repetir">Repetir</label>
                </div>                
                <div class="form-check form_repetir">                    
                    <input type="checkbox" id="id_fixo">
                    <label for="id_fixo">Fixo</label>
                </div>
                <div class="form-check form_repetir">                                    
                    <input type="checkbox" id="id_periodo">
                    <label for="id_periodo">Per√≠odo</label>
                </div>
                <div class="form-group form_periodo">
                    <label for="id_meses">Meses</label>
                    <input type="number" id="id_meses">
                </div>                    
                <p></p>
                <button class="btn btn-default" type="submit">Salvar</button>
                <a class="btn btn-default" href="{% url 'financ:despesas' %}">Cancelar</a>
            </form>            
        </div>
    </div>

</section><!-- /.content -->	

{% endblock %}

{% block javascript %}

<script type="text/javascript">        

    $("#id_repetir").click(function(e){      
        if ($( "#id_repetir" ).is(':checked')){
            $(".form_repetir").show();           
        }
        else{
            $(".form_repetir").hide();
            $(".form_periodo").hide();            
        }        
    });
    $("#id_periodo").click(function(e){      
        if ($( "#id_periodo" ).is(':checked')){            
            $(".form_periodo").show();
            $("#id_fixo").prop( "checked", false );
        }
        else{            
            $(".form_periodo").hide();    
        }        
    });
    $("#id_fixo").click(function(e){      
        if ($( "#id_periodo" ).is(':checked')){            
            $(".form_periodo").hide();
            $("#id_periodo").prop( "checked", false );
        }        
    });

</script>
{% endblock javascript %}